

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Chapter 13 &#8212; Computational Thinking and Problem Solving</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'chap13';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Chapter 14" href="chap14.html" />
    <link rel="prev" title="Chapter 12" href="chap12.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="ctps-ales.html">
  
  
  
  
    
    
      
    
    
    <img src="_static/mike_flat.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="_static/mike_flat.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="ctps-ales.html">
                    <no title>
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="chap01.html">Chapter 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap02.html">Chapter 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap03.html">Chapter 3</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap04.html">Chapter 4</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap05.html">Chapter 5</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap06.html">Chapter 6</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap07.html">Chapter 7</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap08.html">Chapter 8</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap09.html">Chapter 9</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap10.html">Chapter 10</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap11.html">Chapter 11</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap12.html">Chapter 12</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Chapter 13</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap14.html">Chapter 14</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap15.html">Chapter 15</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap16.html">Chapter 16</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap17.html">Chapter 17</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap18.html">Chapter 18</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/chap13.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Chapter 13</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ale-13-1-a-promise-fulfilled">ALE 13.1: A promise fulfilled</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ale-13-2-grabbing-a-piece-of-a-path">ALE 13.2: Grabbing a piece of a path</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="chapter-13">
<h1>Chapter 13<a class="headerlink" href="#chapter-13" title="Permalink to this heading">#</a></h1>
<section id="ale-13-1-a-promise-fulfilled">
<h2>ALE 13.1: A promise fulfilled<a class="headerlink" href="#ale-13-1-a-promise-fulfilled" title="Permalink to this heading">#</a></h2>
<p>In Chapter 10, we built a book index that used a function called <code class="docutils literal notranslate"><span class="pre">get_wordlist</span></code> to turn a string into a list of words, and I promised to explain how this function worked. Since it uses the <code class="docutils literal notranslate"><span class="pre">re</span></code> library, we’re now ready to understand how to turn a line like <code class="docutils literal notranslate"><span class="pre">'And</span> <span class="pre">Mrs.</span> <span class="pre">Smith</span> <span class="pre">said,</span> <span class="pre">&quot;I\'m</span> <span class="pre">the</span> <span class="pre">best!&quot;'</span></code> into the wordlist <code class="docutils literal notranslate"><span class="pre">['And',</span> <span class="pre">'Mrs',</span> <span class="pre">'Smith',</span> <span class="pre">'said',</span> <span class="pre">&quot;I'm&quot;,</span> <span class="pre">'the',</span> <span class="pre">'best']</span></code>. This task is not easy. Take a moment to consider how you’d mechanically remove apostrophes and dashes except when they’re part of a contraction or a hyphenated word. As you can see below, <code class="docutils literal notranslate"><span class="pre">get_wordlist</span></code> accomplishes this challenge in very few statements. This is the power of the <code class="docutils literal notranslate"><span class="pre">re</span></code> library.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">16</span><span class="c1">### chap10/index32.py</span>
<span class="linenos">17</span><span class="kn">import</span> <span class="nn">re</span>
<span class="linenos">18</span><span class="kn">import</span> <span class="nn">string</span>
<span class="linenos">19</span>
<span class="linenos">20</span><span class="k">def</span> <span class="nf">get_wordlist</span><span class="p">(</span><span class="n">line</span><span class="p">):</span>
<span class="linenos">21</span>    <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">)</span>
<span class="linenos">22</span>    <span class="k">return</span> <span class="p">[</span><span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s1">&#39;^[</span><span class="si">{0}</span><span class="s1">]+|[</span><span class="si">{0}</span><span class="s1">]+$&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">string</span><span class="o">.</span><span class="n">punctuation</span><span class="p">),</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">w</span><span class="p">)</span>
<span class="linenos">23</span>            <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()]</span>
</pre></div>
</div>
<p><strong>Step 1.</strong> We begin by dispensing with line 21, which catches a case (the use of an en-dash) not handled by the RE expression in line 22. Make sure you understand its operation, and if not, review our earlier work with <code class="docutils literal notranslate"><span class="pre">str.replace</span></code>.</p>
<p><strong>Step 2.</strong> Line 22, which continues on line 23, is where the interesting stuff happens. To understand this statement, first recognize that the outermost square brackets define a <em>Python list comprehension</em>, which is a shorthand for creating a new list from the values in an existing list. The “existing list” comes from a straightforward <code class="docutils literal notranslate"><span class="pre">str.split</span></code> of the input line, which removes whitespace but leaves “words” like <code class="docutils literal notranslate"><span class="pre">'best!&quot;'</span></code>, which you’ll see if you run the next code block.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">line</span> <span class="o">=</span> <span class="s1">&#39;And Mrs. Smith said, &quot;I</span><span class="se">\&#39;</span><span class="s1">m the best!&quot;&#39;</span>
<span class="linenos">2</span><span class="p">[</span><span class="n">w</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()]</span>
</pre></div>
</div>
<p>Run code block above in the interactive Python interpreter. Just for fun, change the expression <code class="docutils literal notranslate"><span class="pre">w.lower()</span></code> to append your favorite color to the end of each <code class="docutils literal notranslate"><span class="pre">w</span></code>.</p>
<p><strong>Step 3.</strong> In <code class="docutils literal notranslate"><span class="pre">get_wordlist</span></code>, each <code class="docutils literal notranslate"><span class="pre">w</span></code> isn’t lowered, but fed to another function in the <code class="docutils literal notranslate"><span class="pre">re</span></code> library. The <code class="docutils literal notranslate"><span class="pre">re.sub</span></code> function uses the RE (its first parameter) to identify substrings of the input string (its third parameter) and then replaces these identified substrings with a replacement string (its second parameter). Here’s a simple example of <code class="docutils literal notranslate"><span class="pre">re.sub</span></code> in action:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="p">[</span><span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;[a-zA-Z]+&#39;</span><span class="p">,</span> <span class="s1">&#39;WORD&#39;</span><span class="p">,</span> <span class="n">w</span><span class="p">)</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()]</span>
</pre></div>
</div>
<p>Run this code block in the interactive Python interpreter. Then play with the RE given as the first parameter and the string literal used in the substitution.</p>
<p><strong>Step 4.</strong> All we have left to understand is the RE in <code class="docutils literal notranslate"><span class="pre">get_wordlist</span></code>, but even this is complicated because it uses a method on strings to reduce what we have to write in the RE string! Let’s replace the <code class="docutils literal notranslate"><span class="pre">{0}</span></code> syntax and the <code class="docutils literal notranslate"><span class="pre">str.format</span></code> method with a familiar character set so that we can focus on the two new RE metacharacters: <code class="docutils literal notranslate"><span class="pre">^</span></code> and <code class="docutils literal notranslate"><span class="pre">|</span></code>.</p>
<ul class="simple">
<li><p>^ : This metacharacter is like <code class="docutils literal notranslate"><span class="pre">$</span></code>, but it matches <em>the point at the start of the string</em>.</p></li>
<li><p>| : This metacharacter represents <em>a logical OR</em>. If the pattern before the vertical bar matches, the pattern after it isn’t tested. If the first doesn’t match, the second is tried.</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="p">[</span><span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^[a-zA-Z]+|[a-zA-Z]+$&#39;</span><span class="p">,</span> <span class="s1">&#39;WORD&#39;</span><span class="p">,</span> <span class="n">w</span><span class="p">)</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()]</span>
</pre></div>
</div>
<p>Run this line of Python and look carefully at the result. The only difference between this and the previous list comprehension is the fifth element in the returned lists. The previous code block produced <code class="docutils literal notranslate"><span class="pre">'&quot;WORD\'WORD'</span></code> while this one produced <code class="docutils literal notranslate"><span class="pre">'&quot;I\'WORD'</span></code>, and in both cases the input <code class="docutils literal notranslate"><span class="pre">w</span></code> was <code class="docutils literal notranslate"><span class="pre">'&quot;I\'m'</span></code>. The <code class="docutils literal notranslate"><span class="pre">'I'</span></code> remains in the second case because neither of the two REs, before or after the vertical bar (<code class="docutils literal notranslate"><span class="pre">|</span></code>), matches this letter; it isn’t a word at the start of the string <code class="docutils literal notranslate"><span class="pre">w</span></code> (the double-quote character starts the string) nor at its end (obviously).</p>
<p>If you don’t see this (and it isn’t easy to see), work through the logic of the RE above with a friend.</p>
<p><strong>Step 5.</strong> But replacing words is not what we want to do in <code class="docutils literal notranslate"><span class="pre">get_wordlist</span></code>. This function is supposed to delete punctuation that isn’t the apostrophe in a contraction or the hyphen in a hyphenated word. And this is where the <code class="docutils literal notranslate"><span class="pre">str.format</span></code> method and the <code class="docutils literal notranslate"><span class="pre">{0}</span></code> syntax comes in. While messy, this is just another way to write a formatted string literal in Python, which we’ve repeatedly done by placing an <code class="docutils literal notranslate"><span class="pre">f</span></code> character before our string literals. The following are equivalent:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">num</span> <span class="o">=</span> <span class="mi">42</span>
<span class="linenos">2</span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;answer = </span><span class="si">{</span><span class="n">num</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos">3</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;answer = </span><span class="si">{0}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">num</span><span class="p">))</span>
</pre></div>
</div>
<p>As you can see by running this code block, we’re just replacing every <code class="docutils literal notranslate"><span class="pre">{0}</span></code> in the string with the first parameter to <code class="docutils literal notranslate"><span class="pre">format</span></code>. The parameter we use in <code class="docutils literal notranslate"><span class="pre">get_wordlist</span></code> is <code class="docutils literal notranslate"><span class="pre">string.punctuation</span></code>, which the <code class="docutils literal notranslate"><span class="pre">string</span></code> library nicely defines as a string containing every punctuation symbol.</p>
<ul class="simple">
<li><p>Take a moment to import the <code class="docutils literal notranslate"><span class="pre">string</span></code> module, print <code class="docutils literal notranslate"><span class="pre">string.punctuation</span></code>, and then consider which of these symbols you’d have to escape to put them in the RE. Thank goodness for formatted strings.</p></li>
<li><p>Now think about what our RE would look like if we replace both instances of <code class="docutils literal notranslate"><span class="pre">{0}</span></code> with the value of <code class="docutils literal notranslate"><span class="pre">string.punctuation</span></code>. Yes, the RE would be even harder to read!</p></li>
</ul>
<p>With the details explained, I’ll say in English what this complicated statement does: It replaces sequences of one or more punctuation characters at the start or end of a “word,” as produced by <code class="docutils literal notranslate"><span class="pre">str.split</span></code>, with an empty string. That’s it. I hope you now appreciate the incredible power of the <code class="docutils literal notranslate"><span class="pre">re</span></code> library.</p>
<p><strong>Step 6.</strong> Feed your own test strings to <code class="docutils literal notranslate"><span class="pre">get_wordlist</span></code>, by changing the definition of <code class="docutils literal notranslate"><span class="pre">line</span></code> in the following code block. There are still a few English grammatical structures that <code class="docutils literal notranslate"><span class="pre">get_wordlist</span></code> doesn’t handle. Can you discover them?</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">line</span> <span class="o">=</span> <span class="s1">&#39;And Mrs. Smith said, &quot;I</span><span class="se">\&#39;</span><span class="s1">m the best!&quot;&#39;</span>
<span class="linenos">2</span><span class="n">get_wordlist</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="ale-13-2-grabbing-a-piece-of-a-path">
<h2>ALE 13.2: Grabbing a piece of a path<a class="headerlink" href="#ale-13-2-grabbing-a-piece-of-a-path" title="Permalink to this heading">#</a></h2>
<p>The function <code class="docutils literal notranslate"><span class="pre">get_fname</span></code> in Chapter 13 takes a full pathname like <code class="docutils literal notranslate"><span class="pre">/home/runner/chap13/test.py</span></code> and returns just the filename at the end of it (i.e., <code class="docutils literal notranslate"><span class="pre">test.py</span></code>). It does its work using the regular expression <code class="docutils literal notranslate"><span class="pre">\w+\.py$</span></code>.</p>
<p>We can break down this regular expression and understand that it searches for a match that is one or more “word” characters (<code class="docutils literal notranslate"><span class="pre">\w+</span></code>) followed by a literal period (<code class="docutils literal notranslate"><span class="pre">\.</span></code>) and then the characters <code class="docutils literal notranslate"><span class="pre">py</span></code>. In other words, it finds things in a full pathname that look like filenames for Python scripts. However, the regular expression ends with a dollar sign (<code class="docutils literal notranslate"><span class="pre">$</span></code>), which means that the pattern it matches must occur at the end of the full pathname. Any matches of <code class="docutils literal notranslate"><span class="pre">\w+\.py</span></code> not occuring at the end of the pathname are ignored (i.e., they are not matches).</p>
<p><strong>Step 1.</strong> Look at the code in <code class="docutils literal notranslate"><span class="pre">ale02.py</span></code>. The <code class="docutils literal notranslate"><span class="pre">main</span></code> function defines a list of full pathname strings, and then it runs three tests on the strings in this list. The first test is the same regular expression used in <code class="docutils literal notranslate"><span class="pre">get_fname</span></code>; it matches a Python-script-like name if one occurs at the end of the full pathname. The actual application of the regular expression and the printing of the result is done in the function <code class="docutils literal notranslate"><span class="pre">print_part</span></code>.</p>
<p>Run <code class="docutils literal notranslate"><span class="pre">python3</span> <span class="pre">ale02.py</span></code> and make sure you understand when a full pathname produces a filename and when it fails to do so. You’re just looking at the output between <code class="docutils literal notranslate"><span class="pre">##</span> <span class="pre">TEST</span> <span class="pre">1</span> <span class="pre">##</span></code> and <code class="docutils literal notranslate"><span class="pre">##</span> <span class="pre">TEST</span> <span class="pre">2</span> <span class="pre">##</span></code> right now.</p>
<p><strong>Step 2.</strong> The second test changes the regular expression. This expression says that it wants <code class="docutils literal notranslate"><span class="pre">print_part</span></code> to also print the folder containing the Python-script-like name if that folder is called <code class="docutils literal notranslate"><span class="pre">chap13</span></code>.</p>
<p>Again, run <code class="docutils literal notranslate"><span class="pre">ale02.py</span></code> and make sure you understand what’s printed between <code class="docutils literal notranslate"><span class="pre">##</span> <span class="pre">TEST</span> <span class="pre">2</span> <span class="pre">##</span></code> and <code class="docutils literal notranslate"><span class="pre">##</span> <span class="pre">TEST</span> <span class="pre">3</span> <span class="pre">##</span></code>.</p>
<p><strong>Step 3.</strong> Can you define <code class="docutils literal notranslate"><span class="pre">re3</span></code> so that it matches not a specific folder name, but any simple folder name? The first five strings and the seventh in <code class="docutils literal notranslate"><span class="pre">fullpaths</span></code> are what I’d call simple folder names; they use only characters in the shorthand <code class="docutils literal notranslate"><span class="pre">\w</span></code>. Remember, we still want to match only filenames that look like Python scripts!</p>
<p>Your regular expression should produce a match for the full pathname strings at indices 0-2 and 5-6 in <code class="docutils literal notranslate"><span class="pre">fullpaths</span></code>, but the match produced by <code class="docutils literal notranslate"><span class="pre">fullpaths[5]</span></code> will be <code class="docutils literal notranslate"><span class="pre">py/test.py</span></code> and not <code class="docutils literal notranslate"><span class="pre">test.py/test.py</span></code>.</p>
<p><strong>Step 4. (EXTRA CREDIT)</strong> Can you define <code class="docutils literal notranslate"><span class="pre">re3</span></code> so that it produces <code class="docutils literal notranslate"><span class="pre">test.py/test.py</span></code> for <code class="docutils literal notranslate"><span class="pre">fullpath[5]</span></code> while not changing the printed output for the first three and the seventh <code class="docutils literal notranslate"><span class="pre">fullpaths</span></code> strings?</p>
<p>[Version 20250408]</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="chap12.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Chapter 12</p>
      </div>
    </a>
    <a class="right-next"
       href="chap14.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Chapter 14</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ale-13-1-a-promise-fulfilled">ALE 13.1: A promise fulfilled</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ale-13-2-grabbing-a-piece-of-a-path">ALE 13.2: Grabbing a piece of a path</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Mike Smith
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2023 by Michael D. Smith. All rights reserved.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>