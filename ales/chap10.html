
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Chapter 10 &#8212; Computational Thinking and Problem Solving</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'chap10';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Chapter 11" href="chap11.html" />
    <link rel="prev" title="Chapter 9" href="chap09.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="ctps-ales.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/mike_flat.png" class="logo__image only-light" alt="Computational Thinking and Problem Solving - Home"/>
    <img src="_static/mike_flat.png" class="logo__image only-dark pst-js-only" alt="Computational Thinking and Problem Solving - Home"/>
  
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="ctps-ales.html">
                    <no title>
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="chap01.html">Chapter 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap02.html">Chapter 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap03.html">Chapter 3</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap04.html">Chapter 4</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap05.html">Chapter 5</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap06.html">Chapter 6</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap07.html">Chapter 7</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap08.html">Chapter 8</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap09.html">Chapter 9</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Chapter 10</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap11.html">Chapter 11</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap12.html">Chapter 12</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap13.html">Chapter 13</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap14.html">Chapter 14</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap15.html">Chapter 15</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap16.html">Chapter 16</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap17.html">Chapter 17</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap18.html">Chapter 18</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/chap10.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Chapter 10</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ale-10-1-are-these-data-still-good">ALE 10.1: Are these data still good?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ale-10-2-the-bsd-checksum">ALE 10.2: The BSD checksum</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ale-10-3-find-colliding-words">ALE 10.3: Find colliding words</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="chapter-10">
<h1>Chapter 10<a class="headerlink" href="#chapter-10" title="Link to this heading">#</a></h1>
<section id="ale-10-1-are-these-data-still-good">
<h2>ALE 10.1: Are these data still good?<a class="headerlink" href="#ale-10-1-are-these-data-still-good" title="Link to this heading">#</a></h2>
<p>Whenever we send a message across a network or leave our data on a storage device, there’s a non-zero chance that a real-world event (e.g., an electrical spike from a lightning strike) will cause one or more of data bits to flip their value (i.e., from a 1 to a 0 or a 0 to a 1). A common method for noticing when such data has been corrupted is to pair it with a hash of all the bits in a block of data. Computer scientists often refer to such a hash as a <em>checksum</em>, and in this ALE, you’ll learn about and implement a historically popular one that requires just one extra bit per data block: CRC-1.</p>
<p><strong>Step 1.</strong> CRC stands for <em>Cyclic Redundancy Check</em>, and it is a <em>non-cryptographic hash function</em>, which means that you can use it for error detection but not for any meaningful security purpose. CRC-1 is a fancy name for adding a single <em>parity bit</em> to the end of a short block of data. Because it is easy and space efficient to compute, the generation of a parity bit is often implemented directly in hardware. If a computer’s memory includes parity bits, the hardware can alert the operating system when a running program tries to read a piece of memory that has been corrupted.</p>
<p>CRC-1 is called a parity bit because you are just recording a fact about the number of bits in the data that are a 1. Obviously with one parity bit, we can’t record the number of 1-bits in a data block of length greater than 1, and so the parity bit simply records whether the number of 1-bits is an even or odd number. Because we can encode this even/odd fact in one of two ways (e.g., the parity bit being equal to 0 means either that the number of 1-bits is even or that the number of 1-bits is odd), the world defines CRC-1 either as an <em>even-parity</em> implementation or an <em>odd-parity</em> one.</p>
<p>In both implementations, you count the number of 1-bits in both the data block and the parity bit. <em>Even parity</em> sets the parity bit to 1 when that makes the total number of 1-bits even, and <em>odd parity</em> sets the parity bit to 1 when that makes the total into an odd number.</p>
<p>Now let’s test your understanding: What value would you give the parity bit when your data block contains no 1-bits and you’ve been told to implement even parity?</p>
<p><strong>Step 2.</strong> Let’s implement a function that takes one parameter, an integer, and computes and returns the <em>even parity</em> bit (i.e., the function returns <code class="docutils literal notranslate"><span class="pre">0</span></code> or <code class="docutils literal notranslate"><span class="pre">1</span></code>).</p>
<p>The function <code class="docutils literal notranslate"><span class="pre">crc1_cnt</span></code> in the following code block is one possible implementation. Make sure you understand the method it uses to count the number of 1-bits in the input number.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1">### chap10/ale01.py</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="k">def</span> <span class="nf">crc1_cnt</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
<span class="linenos"> 4</span>    <span class="n">cnt_of_1s</span> <span class="o">=</span> <span class="mi">0</span>
<span class="linenos"> 5</span>
<span class="linenos"> 6</span>    <span class="c1"># Add 1 to the count of 1-bits when `n`</span>
<span class="linenos"> 7</span>    <span class="c1"># is odd. Use integer-division to shift</span>
<span class="linenos"> 8</span>    <span class="c1"># down a bit, continuing until `n` is 0.</span>
<span class="linenos"> 9</span>    <span class="k">while</span> <span class="n">n</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
<span class="linenos">10</span>        <span class="k">if</span> <span class="n">n</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
<span class="linenos">11</span>            <span class="n">cnt_of_1s</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="linenos">12</span>        <span class="n">n</span> <span class="o">=</span> <span class="n">n</span> <span class="o">//</span> <span class="mi">2</span>
<span class="linenos">13</span>
<span class="linenos">14</span>    <span class="c1"># Return the right value for even parity</span>
<span class="linenos">15</span>    <span class="k">if</span> <span class="n">cnt_of_1s</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
<span class="linenos">16</span>        <span class="k">return</span> <span class="mi">1</span>
<span class="linenos">17</span>    <span class="k">else</span><span class="p">:</span>
<span class="linenos">18</span>        <span class="k">return</span> <span class="mi">0</span>
</pre></div>
</div>
<p>How would you change this code to produce the parity bit for odd parity?</p>
<p>You can test the original implementation of <code class="docutils literal notranslate"><span class="pre">crc1_cnt</span></code> using the following <code class="docutils literal notranslate"><span class="pre">test</span></code> function. After you edit <code class="docutils literal notranslate"><span class="pre">crc1_cnt</span></code> to implement odd parity, change the second parameter in the call to <code class="docutils literal notranslate"><span class="pre">test</span></code> to <code class="docutils literal notranslate"><span class="pre">'odd'</span></code> to verify your changed function.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">29</span><span class="c1">### chap10/ale01.py</span>
<span class="linenos">30</span>
<span class="linenos">31</span><span class="k">def</span> <span class="nf">test</span><span class="p">(</span><span class="n">fun</span><span class="p">,</span> <span class="n">parity</span><span class="o">=</span><span class="s1">&#39;even&#39;</span><span class="p">):</span>
<span class="linenos">32</span>    <span class="k">if</span> <span class="n">parity</span> <span class="o">==</span> <span class="s1">&#39;even&#39;</span><span class="p">:</span>
<span class="linenos">33</span>        <span class="n">p</span><span class="p">,</span> <span class="n">q</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span>
<span class="linenos">34</span>    <span class="k">else</span><span class="p">:</span>
<span class="linenos">35</span>        <span class="n">p</span><span class="p">,</span> <span class="n">q</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span>
<span class="linenos">36</span>
<span class="linenos">37</span>    <span class="c1"># Test the function sent in as the parameter</span>
<span class="linenos">38</span>    <span class="k">if</span> <span class="n">fun</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">!=</span> <span class="n">p</span><span class="p">:</span>
<span class="linenos">39</span>        <span class="k">return</span> <span class="s1">&#39;Failed for n = 0&#39;</span>
<span class="linenos">40</span>    <span class="k">if</span> <span class="n">fun</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">!=</span> <span class="n">q</span><span class="p">:</span>
<span class="linenos">41</span>        <span class="k">return</span> <span class="s1">&#39;Failed for n = 1&#39;</span>
<span class="linenos">42</span>    <span class="k">if</span> <span class="n">fun</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">!=</span> <span class="n">q</span><span class="p">:</span>
<span class="linenos">43</span>        <span class="k">return</span> <span class="s1">&#39;Failed for n = 2&#39;</span>
<span class="linenos">44</span>    <span class="k">if</span> <span class="n">fun</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">!=</span> <span class="n">p</span><span class="p">:</span>
<span class="linenos">45</span>        <span class="k">return</span> <span class="s1">&#39;Failed for n = 3&#39;</span>
<span class="linenos">46</span>    <span class="k">if</span> <span class="n">fun</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span> <span class="o">!=</span> <span class="n">q</span><span class="p">:</span>
<span class="linenos">47</span>        <span class="k">return</span> <span class="s1">&#39;Failed for n = 16&#39;</span>
<span class="linenos">48</span>    <span class="k">return</span> <span class="s1">&#39;PASSED our unit tests!&#39;</span>
<span class="linenos">49</span>
<span class="linenos">50</span>
<span class="linenos">51</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Testing crc1_cnt ...&#39;</span><span class="p">)</span>
<span class="linenos">52</span><span class="nb">print</span><span class="p">(</span><span class="n">test</span><span class="p">(</span><span class="n">crc1_cnt</span><span class="p">,</span> <span class="s1">&#39;even&#39;</span><span class="p">))</span>
</pre></div>
</div>
<p><strong>Step 3.</strong> Think back for a moment to ALE 9.1 where we learned how computers implement addition using nothing but bitwise operations. There we learned how the <code class="docutils literal notranslate"><span class="pre">sum</span></code> and <code class="docutils literal notranslate"><span class="pre">carry</span></code> parts of long-hand addition work with binary numbers, and now we can see that <code class="docutils literal notranslate"><span class="pre">sum</span></code> is just a parity computation!</p>
<p>Figure out what type of parity the XOR operator computes (HINT: write out its truth table). And then complete the body of the function <code class="docutils literal notranslate"><span class="pre">crc1_xor</span></code> so that it implements even parity.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">18</span><span class="c1">### chap10/ale01.py</span>
<span class="linenos">19</span>
<span class="linenos">20</span><span class="k">def</span> <span class="nf">crc1_xor</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
<span class="linenos">21</span>    <span class="n">even_parity</span> <span class="o">=</span> <span class="mi">0</span>
<span class="linenos">22</span>    <span class="n">n_binstr</span> <span class="o">=</span> <span class="nb">bin</span><span class="p">(</span><span class="n">n</span><span class="p">)[</span><span class="mi">2</span><span class="p">:]</span>  <span class="c1"># removes the leading &#39;0b&#39;</span>
<span class="linenos">23</span>    <span class="c1">#print(&#39;DEBUG: n_binstr&#39;, n_binstr)</span>
<span class="linenos">24</span>
<span class="linenos">25</span>    <span class="c1"># INSERT some kind of loop over n_binstr and</span>
<span class="linenos">26</span>    <span class="c1"># the body of the loop can be done with one</span>
<span class="linenos">27</span>    <span class="c1"># update to `even_parity` using a bitwise operator.</span>
<span class="linenos">28</span>
<span class="linenos">29</span>    <span class="k">return</span> <span class="n">even_parity</span>
</pre></div>
</div>
<p>Test your implementation to verify that you’ve done your work correctly.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">53</span><span class="c1">### chap10/ale01.py</span>
<span class="linenos">54</span>
<span class="linenos">55</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Testing crc1_xor ...&#39;</span><span class="p">)</span>
<span class="linenos">56</span><span class="nb">print</span><span class="p">(</span><span class="n">test</span><span class="p">(</span><span class="n">crc1_xor</span><span class="p">,</span> <span class="s1">&#39;even&#39;</span><span class="p">))</span>
</pre></div>
</div>
</section>
<section id="ale-10-2-the-bsd-checksum">
<h2>ALE 10.2: The BSD checksum<a class="headerlink" href="#ale-10-2-the-bsd-checksum" title="Link to this heading">#</a></h2>
<p>When we type commands in the Shell on Replit, we are interacting with a program running on a Unix operating system. For those of you running on a MacBook, MacOS is basically a Unix operating system under its hood. In fact, MacOS is a descendent of <a class="reference external" href="https://www.youtube.com/watch?v=Sne3m0qLEMk">BSD Unix</a>, which was developed at the University of California, Berkeley in the 1970s. It was an extension of the original UNIX operating system developed just a few years earlier at Bell Labs, which started in 1925 as the research arm of Western Electric and AT&amp;T.</p>
<p>One of the extensions that the Berkeley researchers added to their version of Unix was the BSD checksum utility called <code class="docutils literal notranslate"><span class="pre">sum</span></code>, which can still be found in MacOS. It was meant as mechanism to create a fingerprint (i.e., a checksum or hash) of a file so that you could later tell if the file had been corrupted (i.e., had one of its bytes changed).</p>
<p>The BSD checksum employed a very simple algorithm, which we describe in pseudocode below. Instead of taking a file of bytes as input, our function will take a string of ASCII (8-bit) characters.</p>
<p>Notice that this routine creates a 16-bit result, which means an integer between <code class="docutils literal notranslate"><span class="pre">0</span></code> and <code class="docutils literal notranslate"><span class="pre">65535</span></code>. It does a little bit of bit manipulation, which is the hardest part of creating the Python code corresponding to this pseudocode. Otherwise, it is just adding the numerical value of each character together and keeping the lowest 16 bits of the resulting sum.</p>
<p>Complete the implementation of <code class="docutils literal notranslate"><span class="pre">bsd_checksum</span></code> and verify it using the following test-code block.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1">### chap10/ale02.py</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="k">def</span> <span class="nf">bsd_checksum</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
<span class="linenos"> 4</span><span class="w">    </span><span class="sd">&#39;&#39;&#39;Given a string of 8-bit characters</span>
<span class="linenos"> 5</span><span class="sd">       compute a 16-bit, BSD-style checksum.&#39;&#39;&#39;</span>
<span class="linenos"> 6</span>
<span class="linenos"> 7</span>    <span class="c1"># Starting value for our 16-bit checksum</span>
<span class="linenos"> 8</span>    <span class="n">checksum</span> <span class="o">=</span> <span class="mi">0</span>
<span class="linenos"> 9</span>
<span class="linenos">10</span>    <span class="c1"># foreach character c in the input string s</span>
<span class="linenos">11</span>        <span class="c1"># Rotate the current checksum value right by 1 bit, where</span>
<span class="linenos">12</span>        <span class="c1"># rotate takes the existing least significant bit and</span>
<span class="linenos">13</span>        <span class="c1"># makes it the new most significant bit.</span>
<span class="linenos">14</span>
<span class="linenos">15</span>        <span class="c1"># To this rotated value, add numerical value of</span>
<span class="linenos">16</span>        <span class="c1"># the current character c.</span>
<span class="linenos">17</span>
<span class="linenos">18</span>        <span class="c1"># Store only the least-significant 16 bits of the previous</span>
<span class="linenos">19</span>        <span class="c1"># result as your new checksum.</span>
<span class="linenos">20</span>
<span class="linenos">21</span>    <span class="c1">#print(&#39;DEBUG:&#39;, checksum)</span>
<span class="linenos">22</span>    <span class="k">return</span> <span class="n">checksum</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">24</span><span class="c1">### chap10/ale02.py</span>
<span class="linenos">25</span>
<span class="linenos">26</span><span class="c1"># Test code</span>
<span class="linenos">27</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Testing bsd_checksum ...&#39;</span><span class="p">)</span>
<span class="linenos">28</span><span class="k">assert</span> <span class="n">bsd_checksum</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">97</span><span class="p">,</span> <span class="s2">&quot;Failed for s = &#39;a&#39;&quot;</span>
<span class="linenos">29</span><span class="k">assert</span> <span class="n">bsd_checksum</span><span class="p">(</span><span class="s1">&#39;aa&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">32913</span><span class="p">,</span> <span class="s2">&quot;Failed for s = &#39;aa&#39;&quot;</span>
<span class="linenos">30</span><span class="k">assert</span> <span class="n">bsd_checksum</span><span class="p">(</span><span class="s1">&#39;bb&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">147</span><span class="p">,</span> <span class="s2">&quot;Failed for s = &#39;bb&#39;&quot;</span>
<span class="linenos">31</span><span class="k">assert</span> <span class="n">bsd_checksum</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">16597</span><span class="p">,</span> <span class="s2">&quot;Failed for s = &#39;test&#39;&quot;</span>
<span class="linenos">32</span><span class="k">assert</span> <span class="n">bsd_checksum</span><span class="p">(</span><span class="s1">&#39;This is a test</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">11640</span><span class="p">,</span> \
<span class="linenos">33</span>                    <span class="s2">&quot;Failed for s = &#39;This is a test</span><span class="se">\n</span><span class="s2">&#39;&quot;</span>
<span class="linenos">34</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;PASSED our unit tests!&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Congratulations! You now know several kinds of hash functions, all of which convert inputs of unbounded size into an output that is a small integer, with some hashes as small as a single bit!</p>
</section>
<section id="ale-10-3-find-colliding-words">
<h2>ALE 10.3: Find colliding words<a class="headerlink" href="#ale-10-3-find-colliding-words" title="Link to this heading">#</a></h2>
<p>The script <code class="docutils literal notranslate"><span class="pre">rk_strmatch.py</span></code> currently finds substrings in the text that match a given pattern. If the pattern fed is a word, can you change this script so that it prints <strong>not substring matches</strong> but <strong>the words that collide with the pattern word</strong> (i.e., find two words that produce the same hash value)? Let’s try!</p>
<p>In doing this work, you’ll probably want to:</p>
<ol class="arabic simple">
<li><p>Pull out the code that computes a hash in <code class="docutils literal notranslate"><span class="pre">rk_strmatch</span></code> into its own function and make the hashing function constants into globals.</p></li>
<li><p>Make sure that the substring that matches the pattern word is itself a word. You can assume that words contain only the letters a-z.</p></li>
<li><p>Check your work by printing both the hash of the pattern word and the hash of the colliding words.</p></li>
<li><p>Print a colliding word only once, even if it occurs many times in the input text.</p></li>
</ol>
<p>Start by copying <code class="docutils literal notranslate"><span class="pre">rk_strmatch.py</span></code> into a file called <code class="docutils literal notranslate"><span class="pre">ale03.py</span></code>, and then edit that file so that you don’t destroy your good copy of the original script.</p>
<p>To test your script, you can try the following two commands:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">python3</span> <span class="pre">ale03.py</span> <span class="pre">JustDavid-chaps.txt</span> <span class="pre">book</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">python3</span> <span class="pre">ale03.py</span> <span class="pre">JustDavid-chaps.txt</span> <span class="pre">pale</span></code></p></li>
</ul>
<p>The test with “book” should print:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span><span class="hll">chap10$ python3 ale03.py JustDavid-chaps.txt book
</span>pattern hash(&quot;book&quot;) = 3324
No collisions found
</pre></div>
</div>
<p>The test with “pale” should print:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span><span class="hll">chap10$ python3 ale03.py JustDavid-chaps.txt pale
</span>pattern hash(&quot;pale&quot;) = 64517
COLLISION: hash(&quot;spot&quot;) = 64517
COLLISION: hash(&quot;tops&quot;) = 64517
</pre></div>
</div>
<p>[Version 20241204]</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="chap09.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Chapter 9</p>
      </div>
    </a>
    <a class="right-next"
       href="chap11.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Chapter 11</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ale-10-1-are-these-data-still-good">ALE 10.1: Are these data still good?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ale-10-2-the-bsd-checksum">ALE 10.2: The BSD checksum</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ale-10-3-find-colliding-words">ALE 10.3: Find colliding words</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Mike Smith
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023 by Michael D. Smith. All rights reserved.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>