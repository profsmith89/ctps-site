
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Chapter 5 &#8212; Computational Thinking and Problem Solving</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'chap05';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Chapter 6" href="chap06.html" />
    <link rel="prev" title="Chapter 4" href="chap04.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="ctps-ales.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/mike_flat.png" class="logo__image only-light" alt="Computational Thinking and Problem Solving - Home"/>
    <img src="_static/mike_flat.png" class="logo__image only-dark pst-js-only" alt="Computational Thinking and Problem Solving - Home"/>
  
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="ctps-ales.html">
                    <no title>
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="chap01.html">Chapter 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap02.html">Chapter 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap03.html">Chapter 3</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap04.html">Chapter 4</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Chapter 5</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap06.html">Chapter 6</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap07.html">Chapter 7</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap08.html">Chapter 8</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap09.html">Chapter 9</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap10.html">Chapter 10</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap11.html">Chapter 11</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap12.html">Chapter 12</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap13.html">Chapter 13</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap14.html">Chapter 14</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap15.html">Chapter 15</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap16.html">Chapter 16</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap17.html">Chapter 17</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap18.html">Chapter 18</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/chap05.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Chapter 5</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ale-5-1-too-many-guesses">ALE 5.1: Too many guesses</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ale-5-2-so-many-ways-to-pick">ALE 5.2: So many ways to pick</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ale-5-3-catching-exceptions">ALE 5.3: Catching exceptions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ale-5-4-adding-metadata-to-your-messages">ALE 5.4: Adding metadata to your messages</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ale-5-5-abstraction-and-design">ALE 5.5: Abstraction and design</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="chapter-5">
<h1>Chapter 5<a class="headerlink" href="#chapter-5" title="Link to this heading">#</a></h1>
<section id="ale-5-1-too-many-guesses">
<h2>ALE 5.1: Too many guesses<a class="headerlink" href="#ale-5-1-too-many-guesses" title="Link to this heading">#</a></h2>
<p>In this chapter, we learned how to build a guess-the-number game that ran until the player correctly guessed the secret number, but some games limit the number of guesses a player has. For example, the online game <a class="reference external" href="https://www.nytimes.com/games/wordle/index.html">Wordle</a> permits you to make only six guesses, and if you haven’t guessed the secret word within those six guesses, the game ends. Wordle’s designer was inspired in part by the game Mastermind, and I own a Mini Mastermind game that also allows no more than six guesses of the hidden pattern of colored pegs.</p>
<p><strong>Step 1.</strong> Your task in this exercise is to change <code class="docutils literal notranslate"><span class="pre">guess32.py</span></code> into a game that gives the player a maximum of six guesses. If player doesn’t guess the secret number within six turns, the game should print an appropriate message and terminate.</p>
<p>Start your work from our existing <code class="docutils literal notranslate"><span class="pre">guess32.py</span></code> script, practicing Steps 5-8 of our problem-solving process.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1">### chap05/guess32.py</span>
<span class="linenos"> 2</span><span class="kn">import</span><span class="w"> </span><span class="nn">random</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
<span class="linenos"> 5</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;## Welcome to GUESS THE NUMBER! ##&#39;</span><span class="p">)</span>
<span class="linenos"> 6</span>
<span class="linenos"> 7</span>    <span class="n">secret</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="linenos"> 8</span>    <span class="c1"># print(f&#39;DEBUG: The secret number is {secret}&#39;)</span>
<span class="linenos"> 9</span>
<span class="linenos">10</span>    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>   <span class="c1"># our game loop</span>
<span class="linenos">11</span>        
<span class="linenos">12</span>        <span class="c1"># Grab a guess from the player</span>
<span class="linenos">13</span>        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<span class="linenos">14</span>            <span class="k">try</span><span class="p">:</span>
<span class="linenos">15</span>                <span class="n">guess</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Please input your guess: &#39;</span><span class="p">))</span>
<span class="linenos">16</span>                <span class="k">break</span>
<span class="linenos">17</span>            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
<span class="linenos">18</span>                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Guesses must be an integer. Try again...&#39;</span><span class="p">)</span>
<span class="linenos">19</span>        <span class="c1"># print(f&#39;DEBUG: You guessed {guess}&#39;)</span>
<span class="linenos">20</span>
<span class="linenos">21</span>        <span class="c1"># Check guess against the secret</span>
<span class="linenos">22</span>        <span class="k">if</span> <span class="n">guess</span> <span class="o">&lt;</span> <span class="n">secret</span><span class="p">:</span>
<span class="linenos">23</span>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Too small!&#39;</span><span class="p">)</span>
<span class="linenos">24</span>        <span class="k">elif</span> <span class="n">guess</span> <span class="o">==</span> <span class="n">secret</span><span class="p">:</span>
<span class="linenos">25</span>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Exactly! You win!&#39;</span><span class="p">)</span>
<span class="linenos">26</span>            <span class="k">break</span>
<span class="linenos">27</span>        <span class="k">else</span><span class="p">:</span>
<span class="linenos">28</span>            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Too big!&#39;</span><span class="p">)</span>
<span class="linenos">29</span>
<span class="linenos">30</span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
<span class="linenos">31</span>    <span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
<p><strong>Step 2.</strong> When you’ve got a working solution, take some time to compare it with the solution produced by your friends. When you’re looking at each other’s code, think about these questions:</p>
<ol class="arabic simple">
<li><p>What creative things did you do that they didn’t do? Does their code include creative ideas that you didn’t think about doing?</p></li>
<li><p>Did you take different approaches to limiting the number of iterations of the game loop? Of the approaches taken, notice where the comparison that ends the game loop is done. What makes its placement a good idea in each different solution?</p></li>
<li><p>In the different solutions, how easy is it to know what to change if you wanted to provide the player with 10 guesses instead of 6? If the limit is buried in the code of the script, how might you make it easier to find and be sure you made all the changes necessary?</p></li>
</ol>
</section>
<section id="ale-5-2-so-many-ways-to-pick">
<h2>ALE 5.2: So many ways to pick<a class="headerlink" href="#ale-5-2-so-many-ways-to-pick" title="Link to this heading">#</a></h2>
<p>Our guess-the-number game used the <code class="docutils literal notranslate"><span class="pre">randint</span></code> function in <a class="reference external" href="https://docs.python.org/3/library/random.html">Python’s <code class="docutils literal notranslate"><span class="pre">random</span></code> library</a>. This function is quite convenient if we want to pick a random integer in a closed range.</p>
<p><strong>Step 1.</strong> Using <code class="docutils literal notranslate"><span class="pre">randint</span></code>, what statement (or small number of statements) could you write to randomly choose an even integer between 2 and 100? Put your code in the next code block, and run your solution several times to make sure you did it correctly.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="c1"># Randomly choose an even integer in the range [2, 100]</span>
<span class="linenos">2</span><span class="kn">import</span><span class="w"> </span><span class="nn">random</span>
<span class="linenos">3</span>
<span class="linenos">4</span><span class="c1"># YOUR SOLUTION HERE</span>
</pre></div>
</div>
<p><strong>Step 2.</strong> The <code class="docutils literal notranslate"><span class="pre">random</span></code> library also provides a <code class="docutils literal notranslate"><span class="pre">randrange</span></code> function that allows you to specify a <code class="docutils literal notranslate"><span class="pre">step</span></code> value that is the difference between each integer in the range. Use <code class="docutils literal notranslate"><span class="pre">randrange</span></code> instead of <code class="docutils literal notranslate"><span class="pre">randint</span></code> to again randomly choose an even integer between 2 and 100.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="c1"># Randomly choose an even integer in the range [2, 100]</span>
<span class="linenos">2</span><span class="kn">import</span><span class="w"> </span><span class="nn">random</span>
<span class="linenos">3</span>
<span class="linenos">4</span><span class="c1"># YOUR SOLUTION HERE</span>
</pre></div>
</div>
<p><strong>Step 3.</strong> Moving away from integers, the <code class="docutils literal notranslate"><span class="pre">random</span></code> library also includes a function called <code class="docutils literal notranslate"><span class="pre">choice</span></code> that makes a random selection from a given sequence. Build yourself a sequence object containing 5 jokes from <a class="reference external" href="http://icanhazdadjoke.com">icanhazdadjoke.com</a>, and then use the choice function to randomly choose one of them. Run your code multiple times.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1"># Randomly choose one of five bad dad jokes</span>
<span class="linenos"> 2</span><span class="kn">import</span><span class="w"> </span><span class="nn">random</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="c1"># YOUR SOLUTION HERE</span>
<span class="linenos"> 5</span><span class="n">jokes</span> <span class="o">=</span> <span class="p">[</span>
<span class="linenos"> 6</span>    <span class="s2">&quot;INSERT JOKE #1&quot;</span><span class="p">,</span>
<span class="linenos"> 7</span>    <span class="s2">&quot;INSERT JOKE #2&quot;</span><span class="p">,</span>
<span class="linenos"> 8</span>    <span class="s2">&quot;INSERT JOKE #3&quot;</span><span class="p">,</span>
<span class="linenos"> 9</span>    <span class="s2">&quot;INSERT JOKE #4&quot;</span><span class="p">,</span>
<span class="linenos">10</span>    <span class="s2">&quot;INSERT JOKE #5&quot;</span><span class="p">,</span>
<span class="linenos">11</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>Step 4.</strong> Finally, copy your solution to Step 3 into the code block below. Now read about the function <code class="docutils literal notranslate"><span class="pre">random.seed</span></code> in the <code class="docutils literal notranslate"><span class="pre">random</span></code> library, and figure out how to use it to print out <em>the same bad dad joke every time</em> the code block is run. Gain certainty about your solution by wrapping it in a loop that iterates 25 times and prints the random choice each time. Your dad would be so proud.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="c1"># Randomly choose the SAME bad dad joke with each choice</span>
<span class="linenos">2</span><span class="kn">import</span><span class="w"> </span><span class="nn">random</span>
<span class="linenos">3</span>
<span class="linenos">4</span><span class="c1"># YOUR SOLUTION HERE</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You’ve just learned how you can seed the pseudorandom generator inside Python’s <code class="docutils literal notranslate"><span class="pre">random</span></code> library to start at the same place in the pseudorandom sequence on each run. Use this you want to test your code using the same pseudorandom sequence.</p>
</div>
</section>
<section id="ale-5-3-catching-exceptions">
<h2>ALE 5.3: Catching exceptions<a class="headerlink" href="#ale-5-3-catching-exceptions" title="Link to this heading">#</a></h2>
<p>Our guess-the-number game used a try-except-statement to give the user another opportunity to input a guess if what they typed wasn’t “a string in an integer suit,” as defined by Python’s <code class="docutils literal notranslate"><span class="pre">int</span></code> type conversion function.</p>
<p><strong>Step 1.</strong> The following code block repeats that <em>design pattern</em> we used in <code class="docutils literal notranslate"><span class="pre">guess32.py</span></code>. Go ahead and run it a few times to make sure you understand how it works; feel free to insert other print statements if you want to know what executes and what doesn’t under different inputs.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<span class="linenos">2</span>    <span class="k">try</span><span class="p">:</span>
<span class="linenos">3</span>        <span class="n">guess</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Please input your guess: &#39;</span><span class="p">))</span>
<span class="linenos">4</span>        <span class="k">break</span>
<span class="linenos">5</span>    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
<span class="linenos">6</span>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Guesses must be an integer. Try again...&#39;</span><span class="p">)</span>
<span class="linenos">7</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Your input guess:&#39;</span><span class="p">,</span> <span class="n">guess</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Step 2.</strong> What input-checking code would you write if we asked the user to input one of the four <code class="docutils literal notranslate"><span class="pre">suits</span></code> in a deck of playing cards? The following code block will help get you started:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">suits</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;clubs&#39;</span><span class="p">,</span> <span class="s1">&#39;diamonds&#39;</span><span class="p">,</span> <span class="s1">&#39;hearts&#39;</span><span class="p">,</span> <span class="s1">&#39;spades&#39;</span><span class="p">]</span>
<span class="linenos">2</span>
<span class="linenos">3</span><span class="c1"># YOUR SOLUTION HERE</span>
<span class="linenos">4</span>
<span class="linenos">5</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Your input suit:&#39;</span><span class="p">,</span> <span class="n">suit</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Step 3.</strong> What did you learn in Step 2 about using a try-except-statement?</p>
</section>
<section id="ale-5-4-adding-metadata-to-your-messages">
<h2>ALE 5.4: Adding metadata to your messages<a class="headerlink" href="#ale-5-4-adding-metadata-to-your-messages" title="Link to this heading">#</a></h2>
<p>The networked guess-the-number game we’ve developed has the server send the client a message that it simply prints. In more interesting network conversations, one endpoint wants to send some data to the other endpoint and include with these data some <em>information about the data</em>. In computer science, this information about the data is called <em>metadata</em>.</p>
<p>In this exercise, you are going to modify our guess-the-number game so that server sends messages that include metadata (the client messages are unchanged). The server will continue to send text that the client should print for the user, and it will add metadata indicating the color of the text when it is printed. The game will use color to add a visual hint about how good each guess was.</p>
<p>Here are the new rules for our guess-the-number game:</p>
<ul class="simple">
<li><p>If the absolute value of the difference between the user’s guess and the secret is greater than 25, the client should print “Too small!” or “Too big!” in blue text, which will indicate that the user’s guess is very cold.</p></li>
<li><p>If the absolute value of the difference between the user’s guess and the secret is between 1 and 5 inclusive, the client should print “Too small!” or “Too big!” in red text, which will indicate that the user’s guess is very hot.</p></li>
<li><p>When the user guesses the secret, the client should print “Exactly! You win!” in green text.</p></li>
<li><p>In all other situations, the client should print the server’s response in black text.</p></li>
</ul>
<p>The messages we send between the server and the client will be split into two pieces: a header containing the metadata; and a body containing the text to be printed. The metadata indicates the color of the text in the message’s body. The escape sequences should NOT be in the message’s body.</p>
<p>Remember that our messages are just text strings, and so a message containing a header and a body is just the concatenation of two text strings. We aren’t doing anything except appending a header to the front of the text string we’re currently sending from the server to the client.</p>
<p><strong>Step 1.</strong> To design the server’s messages, you need to answer these questions:</p>
<ol class="arabic simple">
<li><p>What are all information you’ll put directly (or in an encoded fashion) in the message header?</p></li>
<li><p>How will the client know where the message header ends and the message body begins?</p></li>
</ol>
<p>There are several ways to answer these questions. Debate a few ideas with your friends, and then settle on the simplest approach. This will inform how you’ll encode the values you enumerated into the previous question.</p>
<p><strong>Step 2.</strong> To code this new version of the game, you need to know how to print text in color on a terminal screen. This involves sending some text to <code class="docutils literal notranslate"><span class="pre">print</span></code> that it interprets as an escape sequence. I demonstrate how this is done in the modified client code below:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1">### chap05/ale04-client.py</span>
<span class="linenos"> 2</span><span class="kn">from</span><span class="w"> </span><span class="nn">socket32</span><span class="w"> </span><span class="kn">import</span> <span class="n">create_new_socket</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="n">HOST</span> <span class="o">=</span> <span class="s1">&#39;127.0.0.1&#39;</span>  <span class="c1"># The server&#39;s hostname or IP address</span>
<span class="linenos"> 5</span><span class="n">PORT</span> <span class="o">=</span> <span class="mi">65432</span>        <span class="c1"># The port used by the server</span>
<span class="linenos"> 6</span>
<span class="linenos"> 7</span><span class="c1"># Color codes for terminal printing</span>
<span class="linenos"> 8</span><span class="n">default</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\033</span><span class="s1">[0m&#39;</span>
<span class="linenos"> 9</span><span class="n">black</span> <span class="o">=</span>   <span class="s1">&#39;</span><span class="se">\033</span><span class="s1">[30m&#39;</span>
<span class="linenos">10</span><span class="n">red</span> <span class="o">=</span>     <span class="s1">&#39;</span><span class="se">\033</span><span class="s1">[31m&#39;</span>
<span class="linenos">11</span><span class="n">green</span> <span class="o">=</span>   <span class="s1">&#39;</span><span class="se">\033</span><span class="s1">[32m&#39;</span>
<span class="linenos">12</span><span class="n">blue</span> <span class="o">=</span>    <span class="s1">&#39;</span><span class="se">\033</span><span class="s1">[34m&#39;</span>
<span class="linenos">13</span>
<span class="linenos">14</span><span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
<span class="linenos">15</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;## Welcome to &#39;</span> <span class="o">+</span> <span class="n">blue</span> <span class="o">+</span> <span class="s1">&#39;GUESS &#39;</span>
<span class="linenos">16</span>         <span class="o">+</span> <span class="n">green</span> <span class="o">+</span> <span class="s1">&#39;THE &#39;</span> <span class="o">+</span> <span class="n">red</span> <span class="o">+</span> <span class="s1">&#39;NUMBER&#39;</span>
<span class="linenos">17</span>         <span class="o">+</span> <span class="n">default</span> <span class="o">+</span> <span class="s1">&#39;! ##&#39;</span><span class="p">)</span>
<span class="linenos">18</span>
<span class="linenos">19</span>    <span class="k">with</span> <span class="n">create_new_socket</span><span class="p">()</span> <span class="k">as</span> <span class="n">s</span><span class="p">:</span>
<span class="linenos">20</span>        <span class="n">s</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">HOST</span><span class="p">,</span> <span class="n">PORT</span><span class="p">)</span>
<span class="linenos">21</span>
<span class="linenos">22</span>        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<span class="linenos">23</span>            <span class="c1"># Grab a guess from the player</span>
<span class="linenos">24</span>            <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<span class="linenos">25</span>                <span class="k">try</span><span class="p">:</span>
<span class="linenos">26</span>                    <span class="n">guess</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Please input your guess: &#39;</span><span class="p">))</span>
<span class="linenos">27</span>                    <span class="k">break</span>
<span class="linenos">28</span>                <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
<span class="linenos">29</span>                    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Guesses must be an integer. Try again...&#39;</span><span class="p">)</span>
<span class="linenos">30</span>
<span class="linenos">31</span>            <span class="n">s</span><span class="o">.</span><span class="n">sendall</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">guess</span><span class="p">))</span>
<span class="linenos">32</span>            <span class="n">response</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">recv</span><span class="p">()</span>
<span class="linenos">33</span>            <span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
<span class="linenos">34</span>
<span class="linenos">35</span>            <span class="k">if</span> <span class="n">response</span> <span class="o">==</span> <span class="s1">&#39;Exactly! You win!&#39;</span><span class="p">:</span>
<span class="linenos">36</span>                <span class="k">break</span>
<span class="linenos">37</span>
<span class="linenos">38</span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
<span class="linenos">39</span>    <span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
<p>Notice that I’ve named the different escape sequences with a descriptive name. To turn on the printing of text in red, you simply print the <code class="docutils literal notranslate"><span class="pre">red</span></code> escape sequence. To turn off printing text in red, you need to insert the escape sequence of a different color or use the return-to-default-color escape sequence, which I’ve named <code class="docutils literal notranslate"><span class="pre">default</span></code>. I’ve printed the capitalized name of the game in our three different colors as an example.</p>
<p><strong>Step 3.</strong> Start <code class="docutils literal notranslate"><span class="pre">ale04-server.py</span></code> by making a copy of the <code class="docutils literal notranslate"><span class="pre">guess-server.py</span></code> script developed in the chapter. Adapt <code class="docutils literal notranslate"><span class="pre">ale04-client.py</span></code> (above) and <code class="docutils literal notranslate"><span class="pre">ale04-server.py</span></code> so that they play this enhanced guess-the-number game.</p>
</section>
<section id="ale-5-5-abstraction-and-design">
<h2>ALE 5.5: Abstraction and design<a class="headerlink" href="#ale-5-5-abstraction-and-design" title="Link to this heading">#</a></h2>
<p>You’ve grappled with the slippery topic of abstraction through the book’s first chapters and seen numerous examples of it. Abstraction hides the details necessary for the computer to perform our intended action, but which simultaneously distract us humans from a computation’s big picture. In general, we humans find it easier to think about the intended action in the abstract without all the details.</p>
<p>However, even after you’ve decided where to place an abstraction barrier (i.e., the barrier that hides a solution’s details), you’ll be confronted with the choice of exactly how to design the abstraction. Recall Chapter 3’s example of a procedural abstraction for exponentiation where we asked if we should create separate <code class="docutils literal notranslate"><span class="pre">square</span></code> and <code class="docutils literal notranslate"><span class="pre">cube</span></code> functions, each taking a single input parameter, or a single <code class="docutils literal notranslate"><span class="pre">power</span></code> function taking two parameters. Or should we, as the Python standard library provides, create a single <code class="docutils literal notranslate"><span class="pre">power</span></code> function that takes at least two and sometimes three parameters?</p>
<p>In this exercise, you’ll practice thinking through these sorts of choices in the context of a completely different problem. This exercise asks you to do design, not implementation. You’ll think about the problem, decide on some primitives (which will define your abstraction barrier), and what the interface to those primitives might look like (i.e., what the <code class="docutils literal notranslate"><span class="pre">def</span></code> line of a function for your primitive might look like).</p>
<p><strong>A new problem.</strong> Consider the passing of messages between two different programs, one written by you and the other written by a friend. In particular, your program needs to send a message (i.e., a line of text) to your friend’s program. Don’t worry about how your friend’s program will receive this message; just think about the sending of this message.</p>
<p>Sounds simple, right? You’ve probably thought, “I’ll just define a function called <code class="docutils literal notranslate"><span class="pre">send</span></code>.” Great, here’s the beginning of that function’s definition:</p>
<p><code class="docutils literal notranslate"><span class="pre">def</span> <span class="pre">send(...</span></code></p>
<p><strong>Step 1.</strong> The function is named but what input parameters do you want to include? What capabilities do you want this new function to support?</p>
<p>To answer these questions, think about sending a physical letter (yes, we know, old school). There are actually several ways to send a letter at a U.S. Post Office:</p>
<ol class="arabic simple">
<li><p>The easiest approach is to prepare your letter, drop it in a mailbox, and forget about it.</p></li>
<li><p>Alternatively, you can buy insurance against loss of or damage to your letter in transit, which pays you cash in the event of such an occurrence.</p></li>
<li><p>As a separate consideration, you may care about how fast your letter travels to its destination, and in this case, you might also mark the letter as priority mail.</p></li>
<li><p>Finally, you may wish to have proof that you mailed the letter when you said you did or that it was successfully delivered.</p></li>
<li><p>Or you might want some combination of items 2-4.</p></li>
</ol>
<p>Decide which of these types of features you want to support in your <code class="docutils literal notranslate"><span class="pre">send</span></code> function.</p>
<p><strong>Step 2.</strong> Now that you know which features (if any) you want to support, you next need to think about how a user of your send functionality will express which of these features are important at each <code class="docutils literal notranslate"><span class="pre">send</span></code> call.</p>
<ol class="arabic simple">
<li><p>Do you want a single function that requires a user to specify all these options, even if some are given a default value (and if so, what is each default value)?</p></li>
<li><p>Or do you want a couple of variants of our abstract send? For example, you might create a simple <code class="docutils literal notranslate"><span class="pre">send</span></code> function that operates like dropping your letter in the mailbox and forgetting about it (possibly with or without insurance), and another <code class="docutils literal notranslate"><span class="pre">send_certified</span></code> function that provides you with a return value, which represents the proof you desire.</p></li>
</ol>
<p>There is no right answer here. With a friend, talk through these two design choices and answer the following questions:</p>
<ul class="simple">
<li><p>Within what contexts might you might prefer one design over the other?</p></li>
<li><p>What are you making easy in each approach? What are you making more difficult?</p></li>
</ul>
<p>As you discuss these questions and your personal choices, listen especially to the places where you and your friend disagree. Understanding and appreciating these differences is how you will grow as a designer.</p>
<p>[Version 20250211]</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="chap04.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Chapter 4</p>
      </div>
    </a>
    <a class="right-next"
       href="chap06.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Chapter 6</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ale-5-1-too-many-guesses">ALE 5.1: Too many guesses</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ale-5-2-so-many-ways-to-pick">ALE 5.2: So many ways to pick</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ale-5-3-catching-exceptions">ALE 5.3: Catching exceptions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ale-5-4-adding-metadata-to-your-messages">ALE 5.4: Adding metadata to your messages</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ale-5-5-abstraction-and-design">ALE 5.5: Abstraction and design</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Mike Smith
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023 by Michael D. Smith. All rights reserved.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>